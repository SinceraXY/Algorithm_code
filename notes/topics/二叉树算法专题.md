# äºŒå‰æ ‘ç®—æ³•ä¸“é¢˜ (Binary Tree Algorithms)

## ğŸ“š ä¸“é¢˜ç›®å½•
- [äºŒå‰æ ‘åŸºç¡€](#-äºŒå‰æ ‘åŸºç¡€)
- [äºŒå‰æ ‘éå†](#-äºŒå‰æ ‘éå†)
- [äºŒå‰æ ‘æ„é€ ](#-äºŒå‰æ ‘æ„é€ )
- [äºŒå‰æ ‘å±æ€§](#-äºŒå‰æ ‘å±æ€§)
- [äºŒå‰æœç´¢æ ‘](#-äºŒå‰æœç´¢æ ‘)
- [è·¯å¾„é—®é¢˜](#-è·¯å¾„é—®é¢˜)
- [å…¬å…±ç¥–å…ˆ](#-å…¬å…±ç¥–å…ˆ)
- [äºŒå‰æ ‘ä¿®æ”¹](#-äºŒå‰æ ‘ä¿®æ”¹)
- [ç»å…¸é¢˜ç›®](#-ç»å…¸é¢˜ç›®)

---

## ğŸ¯ äºŒå‰æ ‘åŸºç¡€

### äºŒå‰æ ‘ç‰¹æ€§
- **å±‚æ¬¡ç»“æ„**: æ ‘å½¢ç»“æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹
- **é€’å½’å®šä¹‰**: äºŒå‰æ ‘æ˜¯é€’å½’ç»“æ„ï¼Œå·¦å³å­æ ‘ä¹Ÿæ˜¯äºŒå‰æ ‘
- **éçº¿æ€§**: ä¸åŒäºæ•°ç»„å’Œé“¾è¡¨çš„çº¿æ€§ç»“æ„
- **å±‚åºå…³ç³»**: èŠ‚ç‚¹ä¹‹é—´æœ‰æ˜ç¡®çš„çˆ¶å­ã€å…„å¼Ÿå…³ç³»

### äºŒå‰æ ‘ç±»å‹
| ç±»å‹ | ç‰¹ç‚¹ | åº”ç”¨åœºæ™¯ |
|------|------|----------|
| **æ»¡äºŒå‰æ ‘** | æ¯å±‚èŠ‚ç‚¹æ•°è¾¾åˆ°æœ€å¤§å€¼ | å®Œç¾å¹³è¡¡ |
| **å®Œå…¨äºŒå‰æ ‘** | é™¤æœ€åä¸€å±‚å¤–éƒ½æ˜¯æ»¡çš„ | å †çš„å®ç° |
| **äºŒå‰æœç´¢æ ‘** | å·¦<æ ¹<å³çš„æœ‰åºæ€§ | æŸ¥æ‰¾ã€æ’åº |
| **å¹³è¡¡äºŒå‰æ ‘** | å·¦å³å­æ ‘é«˜åº¦å·®â‰¤1 | AVLæ ‘ã€çº¢é»‘æ ‘ |
| **çº¿ç´¢äºŒå‰æ ‘** | åˆ©ç”¨ç©ºæŒ‡é’ˆå­˜å‚¨éå†ä¿¡æ¯ | éå†ä¼˜åŒ– |

### æ»¡äºŒå‰æ ‘ä¸å®Œå…¨äºŒå‰æ ‘ï¼ˆé‡ç‚¹ï¼‰
- **æ»¡äºŒå‰æ ‘**ï¼šå¦‚æœä¸€æ£µäºŒå‰æ ‘åªæœ‰åº¦ä¸º 0 çš„ç»“ç‚¹å’Œåº¦ä¸º 2 çš„ç»“ç‚¹ï¼Œå¹¶ä¸”åº¦ä¸º 0 çš„ç»“ç‚¹åœ¨åŒä¸€å±‚ä¸Šï¼Œåˆ™è¿™æ£µäºŒå‰æ ‘ä¸ºæ»¡äºŒå‰æ ‘ã€‚
  - å¸¸è§ç­‰ä»·æè¿°ï¼šæ·±åº¦ä¸º `k` çš„æ»¡äºŒå‰æ ‘ï¼Œä¸€å…±æœ‰ `2^k - 1` ä¸ªèŠ‚ç‚¹ã€‚
- **å®Œå…¨äºŒå‰æ ‘**ï¼šåœ¨å®Œå…¨äºŒå‰æ ‘ä¸­ï¼Œé™¤äº†æœ€åº•å±‚èŠ‚ç‚¹å¯èƒ½æ²¡å¡«æ»¡å¤–ï¼Œå…¶ä½™æ¯å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œå¹¶ä¸”æœ€ä¸‹é¢ä¸€å±‚çš„èŠ‚ç‚¹éƒ½é›†ä¸­åœ¨è¯¥å±‚æœ€å·¦è¾¹çš„è‹¥å¹²ä½ç½®ã€‚
  - âš ï¸ å¾ˆå¤šäººå®¹æ˜“â€œçœ‹èµ·æ¥åƒâ€å°±åˆ¤æ–­å®Œå…¨äºŒå‰æ ‘ï¼Œå»ºè®®åœ¨è„‘ä¸­ä¸¥æ ¼å¯¹é½å®šä¹‰ï¼šæœ€åä¸€å±‚å¿…é¡»ä»å·¦åˆ°å³è¿ç»­å¡«å……ï¼Œä¸­é—´ä¸èƒ½å‡ºç°ç©ºç¼ºã€‚
  - è‹¥æœ€åº•å±‚ä¸ºç¬¬ `h` å±‚ï¼Œåˆ™è¯¥å±‚åŒ…å« `1 ~ 2^h` ä¸ªèŠ‚ç‚¹ã€‚

### å †ä¸å®Œå…¨äºŒå‰æ ‘
- **å †ï¼ˆheapï¼‰**æœ¬è´¨æ˜¯ä¸€æ£µ**å®Œå…¨äºŒå‰æ ‘**ï¼Œå¹¶æ»¡è¶³çˆ¶å­èŠ‚ç‚¹çš„é¡ºåºå…³ç³»ï¼š
  - çˆ¶èŠ‚ç‚¹ â‰¥ å­èŠ‚ç‚¹ï¼šå¤§é¡¶å †
  - çˆ¶èŠ‚ç‚¹ â‰¤ å­èŠ‚ç‚¹ï¼šå°é¡¶å †
- å› ä¸ºå †æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œæ‰€ä»¥éå¸¸é€‚åˆç”¨æ•°ç»„è¡¨ç¤ºï¼ˆä¾¿äºç”¨ä¸‹æ ‡è®¡ç®—çˆ¶å­å…³ç³»ï¼‰ã€‚

### äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰ä¸å¹³è¡¡äºŒå‰æœç´¢æ ‘
- **BSTï¼ˆæœ‰åºæ ‘ï¼‰**ï¼š
  - è‹¥å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºæ ¹ç»“ç‚¹çš„å€¼
  - è‹¥å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºæ ¹ç»“ç‚¹çš„å€¼
  - å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æœç´¢æ ‘
- **å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆAVL ä¸€ç±»å®šä¹‰ï¼‰**ï¼šå·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ï¼Œå¹¶ä¸”å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚

**å®¹å™¨åº•å±‚ä¸å¤æ‚åº¦ï¼ˆC++ï¼‰**ï¼š
- `map`ã€`set`ã€`multimap`ã€`multiset` çš„åº•å±‚é€šå¸¸æ˜¯å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆå¦‚çº¢é»‘æ ‘ï¼‰ï¼Œå› æ­¤å¢åˆ æŸ¥ä¸º `O(log n)`ã€‚
- `unordered_map`ã€`unordered_set` çš„åº•å±‚æ˜¯å“ˆå¸Œè¡¨ï¼Œå¹³å‡å¢åˆ æŸ¥ä¸º `O(1)`ã€‚

### äºŒå‰æ ‘çš„å­˜å‚¨æ–¹å¼
- **é“¾å¼å­˜å‚¨**ï¼šç”¨æŒ‡é’ˆè¿æ¥å·¦å³å­©å­ï¼ˆåˆ·é¢˜/é¢è¯•æœ€å¸¸è§çš„è¡¨ç¤ºï¼‰ã€‚
- **é¡ºåºå­˜å‚¨ï¼ˆæ•°ç»„ï¼‰**ï¼šç”¨æ•°ç»„è¡¨ç¤ºäºŒå‰æ ‘ï¼ˆå¸¸ç”¨äºå®Œå…¨äºŒå‰æ ‘/å †ï¼‰ã€‚
  - è‹¥çˆ¶èŠ‚ç‚¹ä¸‹æ ‡ä¸º `i`ï¼š
    - å·¦å­©å­ä¸‹æ ‡ï¼š`2 * i + 1`
    - å³å­©å­ä¸‹æ ‡ï¼š`2 * i + 2`

### èŠ‚ç‚¹å®šä¹‰
åœ¨ LeetCode ä¸­ï¼ŒäºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰é€šå¸¸å·²ç»™å‡ºï¼›ä½†ç°åœºé¢è¯•å¯èƒ½éœ€è¦æ‰‹å†™ `TreeNode`ï¼Œå»ºè®®æŠŠè¿™ç§åŸºç¡€ç»“æ„åšåˆ°â€œç™½çº¸ä¹Ÿèƒ½å†™å‡ºæ¥â€ã€‚

```cpp
// C++ äºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰
struct TreeNode {
    int val;
    TreeNode *left;
    TreeNode *right;
    TreeNode() : val(0), left(nullptr), right(nullptr) {}
    TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
    TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
};
```

```python
# Python äºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰
class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right
```

```go
// Go äºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰
type TreeNode struct {
    Val   int
    Left  *TreeNode
    Right *TreeNode
}
```

### åŸºæœ¬æ“ä½œå¤æ‚åº¦
| æ“ä½œ | å¹³å‡æ—¶é—´ | æœ€åæ—¶é—´ | è¯´æ˜ |
|------|---------|---------|------|
| æœç´¢ | O(log n) | O(n) | BSTå¹³è¡¡æ—¶O(log n) |
| æ’å…¥ | O(log n) | O(n) | å–å†³äºæ ‘çš„å¹³è¡¡æ€§ |
| åˆ é™¤ | O(log n) | O(n) | éœ€è¦æ‰¾åˆ°èŠ‚ç‚¹å¹¶è°ƒæ•´ |
| éå† | O(n) | O(n) | è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ |

---

## ğŸ”„ äºŒå‰æ ‘éå†

### æ ¸å¿ƒæ€æƒ³
äºŒå‰æ ‘éå†æ˜¯è®¿é—®æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼Œæ ¹æ®è®¿é—®æ ¹èŠ‚ç‚¹çš„é¡ºåºä¸åŒï¼Œåˆ†ä¸ºå‰åºã€ä¸­åºã€ååºéå†ã€‚

### DFS ä¸ BFS æ¡†æ¶
- **æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDFSï¼‰**ï¼šå…ˆå¾€æ·±èµ°ï¼Œé‡åˆ°å¶å­èŠ‚ç‚¹å†å¾€å›èµ°ã€‚
  - å¸¸è§è½åœ°ï¼šå‰åº / ä¸­åº / ååºéå†ã€‚
  - é€’å½’å†™æ³•æœ¬è´¨ä¸Šå€ŸåŠ©äº†â€œæ ˆâ€ï¼ˆç³»ç»Ÿè°ƒç”¨æ ˆï¼‰ï¼›ä¹Ÿå¯ä»¥æ”¹å†™æˆæ˜¾å¼æ ˆçš„è¿­ä»£å†™æ³•ã€‚
- **å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆBFSï¼‰**ï¼šä¸€å±‚ä¸€å±‚éå†ã€‚
  - å¸¸è§è½åœ°ï¼šå±‚åºéå†ã€‚
  - è¿­ä»£å®ç°é€šå¸¸ä½¿ç”¨é˜Ÿåˆ—ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ã€‚

**å‰ä¸­ååºå£è¯€**ï¼šå‰/ä¸­/ååºæŒ‡çš„æ˜¯â€œä¸­é—´èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰â€çš„ä½ç½®ã€‚
- å‰åºéå†ï¼šä¸­å·¦å³
- ä¸­åºéå†ï¼šå·¦ä¸­å³
- ååºéå†ï¼šå·¦å³ä¸­

### éå†æ–¹å¼å¯¹æ¯”
| éå†æ–¹å¼ | è®¿é—®é¡ºåº | åº”ç”¨åœºæ™¯ | ç‰¹ç‚¹ |
|---------|---------|---------|------|
| **å‰åºéå†** | æ ¹â†’å·¦â†’å³ | å¤åˆ¶æ ‘ã€å‰ç¼€è¡¨è¾¾å¼ | å…ˆå¤„ç†æ ¹èŠ‚ç‚¹ |
| **ä¸­åºéå†** | å·¦â†’æ ¹â†’å³ | BSTæ’åºã€ä¸­ç¼€è¡¨è¾¾å¼ | BSTå¾—åˆ°æœ‰åºåºåˆ— |
| **ååºéå†** | å·¦â†’å³â†’æ ¹ | åˆ é™¤æ ‘ã€åç¼€è¡¨è¾¾å¼ | å…ˆå¤„ç†å­èŠ‚ç‚¹ |
| **å±‚åºéå†** | é€å±‚è®¿é—® | æœ€çŸ­è·¯å¾„ã€å±‚æ¬¡ç»“æ„ | ä½¿ç”¨é˜Ÿåˆ—å®ç° |

### é€’å½’å†™æ³•çš„æ–¹æ³•è®ºï¼ˆé€’å½’ä¸‰è¦ç´ ï¼‰
æœ¬ç¯‡å°†ä»‹ç»å‰/ä¸­/ååºçš„é€’å½’å†™æ³•ã€‚ä¸€äº›åŒå­¦å¯èƒ½ä¼šæ„Ÿè§‰å¾ˆç®€å•ï¼Œå…¶å®ä¸ç„¶â€”â€”æˆ‘ä»¬è¦é€šè¿‡ç®€å•é¢˜ç›®æŠŠæ–¹æ³•è®ºç¡®å®šä¸‹æ¥ï¼Œæœ‰äº†æ–¹æ³•è®ºï¼Œåé¢æ‰èƒ½åº”ä»˜å¤æ‚çš„é€’å½’ã€‚

è¿™é‡Œå¸®åŠ©å¤§å®¶ç¡®å®šä¸‹æ¥é€’å½’ç®—æ³•çš„ä¸‰ä¸ªè¦ç´ ï¼š**æ¯æ¬¡å†™é€’å½’ï¼Œéƒ½æŒ‰ç…§è¿™ä¸‰è¦ç´ æ¥å†™ï¼Œå¯ä»¥ä¿è¯å†™å‡ºæ­£ç¡®çš„é€’å½’ç®—æ³•**ã€‚

- **ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼**ï¼šç¡®å®šå“ªäº›å‚æ•°æ˜¯é€’å½’è¿‡ç¨‹ä¸­éœ€è¦å¤„ç†çš„ï¼Œé‚£ä¹ˆå°±åœ¨é€’å½’å‡½æ•°é‡ŒåŠ ä¸Šè¿™ä¸ªå‚æ•°ï¼›å¹¶ä¸”è¦æ˜ç¡®æ¯æ¬¡é€’å½’çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Œä»è€Œç¡®å®šé€’å½’å‡½æ•°çš„è¿”å›ç±»å‹ã€‚
- **ç¡®å®šç»ˆæ­¢æ¡ä»¶**ï¼šå†™å®Œé€’å½’ç®—æ³•è¿è¡Œæ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°æ ˆæº¢å‡ºé”™è¯¯ï¼Œå°±æ˜¯æ²¡å†™ç»ˆæ­¢æ¡ä»¶æˆ–è€…ç»ˆæ­¢æ¡ä»¶å†™çš„ä¸å¯¹ã€‚æ“ä½œç³»ç»Ÿç”¨æ ˆæ¥ä¿å­˜æ¯ä¸€å±‚é€’å½’ä¿¡æ¯ï¼Œå¦‚æœé€’å½’æ²¡æœ‰ç»ˆæ­¢ï¼Œå†…å­˜æ ˆå¿…ç„¶ä¼šæº¢å‡ºã€‚
- **ç¡®å®šå•å±‚é€’å½’çš„é€»è¾‘**ï¼šç¡®å®šæ¯ä¸€å±‚é€’å½’éœ€è¦å¤„ç†çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿™ä¸€å±‚åšä»€ä¹ˆï¼›åœ¨è¿™é‡Œä¼šé‡å¤è°ƒç”¨è‡ªå·±æ¥å®ç°é€’å½’è¿‡ç¨‹ã€‚

### ä»¥å‰åºéå†ä¸ºä¾‹ï¼ˆæŠŠä¸‰è¦ç´ è½åˆ°ä»£ç ä¸Šï¼‰
- **ç¡®å®šé€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼**ï¼šå› ä¸ºè¦æ”¶é›†å‰åºéå†èŠ‚ç‚¹æ•°å€¼ï¼Œæ‰€ä»¥å‚æ•°é‡Œéœ€è¦ä¼ å…¥ `vector<int>&` æ¥å­˜èŠ‚ç‚¹æ•°å€¼ï¼›é™¤æ­¤ä¹‹å¤–å°±ä¸éœ€è¦å¤„ç†å…¶ä»–æ•°æ®ï¼Œä¹Ÿä¸éœ€è¦è¿”å›å€¼ï¼Œå› æ­¤é€’å½’å‡½æ•°è¿”å›ç±»å‹ä¸º `void`ã€‚

  ```cpp
  void traversal(TreeNode* cur, vector<int>& vec)
  ```

- **ç¡®å®šç»ˆæ­¢æ¡ä»¶**ï¼šå½“å‰éå†èŠ‚ç‚¹ä¸ºç©ºï¼Œæœ¬å±‚é€’å½’ç»“æŸã€‚

  ```cpp
  if (cur == nullptr) return;
  ```

- **ç¡®å®šå•å±‚é€’å½’é€»è¾‘**ï¼šå‰åºéå†é¡ºåºæ˜¯â€œä¸­å·¦å³â€ï¼Œå› æ­¤æœ¬å±‚é€»è¾‘å¦‚ä¸‹ã€‚

  ```cpp
  vec.push_back(cur->val);    // ä¸­
  traversal(cur->left, vec);  // å·¦
  traversal(cur->right, vec); // å³
  ```
 
 ### é€’å½’éå†æ¨¡æ¿
 
 **å‰åºéå†ï¼ˆLeetCode 144ï¼‰**ï¼š
 
 ```cpp
 class Solution {
 public:
     void traversal(TreeNode* cur, vector<int>& vec) {
         if (cur == nullptr) return;
         vec.push_back(cur->val);    // ä¸­
         traversal(cur->left, vec);  // å·¦
         traversal(cur->right, vec); // å³
     }
 
     vector<int> preorderTraversal(TreeNode* root) {
         vector<int> result;
         traversal(root, result);
         return result;
     }
 };
 ```
 
 **ä¸­åºéå†ï¼ˆLeetCode 94ï¼‰**ï¼š
 
 ```cpp
 void traversal(TreeNode* cur, vector<int>& vec) {
     if (cur == nullptr) return;
     traversal(cur->left, vec);  // å·¦
     vec.push_back(cur->val);    // ä¸­
     traversal(cur->right, vec); // å³
 }
 ```
 
 **ååºéå†ï¼ˆLeetCode 145ï¼‰**ï¼š
 
 ```cpp
 void traversal(TreeNode* cur, vector<int>& vec) {
     if (cur == nullptr) return;
     traversal(cur->left, vec);  // å·¦
     traversal(cur->right, vec); // å³
     vec.push_back(cur->val);    // ä¸­
 }
 ```
 
### è¿­ä»£éå†æ¨¡æ¿
 
```cpp
// å‰åºéå† - è¿­ä»£æ³•
vector<int> preorderTraversal(TreeNode* root) {
    vector<int> result;
    if (root == nullptr) return result;
    
    stack<TreeNode*> st;
    st.push(root);
    
    while (!st.empty()) {
        TreeNode* node = st.top();
        st.pop();
        result.push_back(node->val);
        
        // å…ˆå‹å³å­æ ‘ï¼Œå†å‹å·¦å­æ ‘ï¼ˆæ ˆæ˜¯åè¿›å…ˆå‡ºï¼‰
        if (node->right) st.push(node->right);
        if (node->left) st.push(node->left);
    }
    
    return result;
}

// ä¸­åºéå† - è¿­ä»£æ³•
vector<int> inorderTraversal(TreeNode* root) {
    vector<int> result;
    stack<TreeNode*> st;
    TreeNode* cur = root;
    
    while (cur != nullptr || !st.empty()) {
        // ä¸€ç›´å‘å·¦èµ°åˆ°åº•
        while (cur != nullptr) {
            st.push(cur);
            cur = cur->left;
        }
        
        // å¤„ç†æ ˆé¡¶èŠ‚ç‚¹
        cur = st.top();
        st.pop();
        result.push_back(cur->val);
        
        // è½¬å‘å³å­æ ‘
        cur = cur->right;
    }
    
    return result;
}

// ååºéå† - è¿­ä»£æ³•
vector<int> postorderTraversal(TreeNode* root) {
    vector<int> result;
    if (root == nullptr) return result;
    
    stack<TreeNode*> st;
    st.push(root);
    
    while (!st.empty()) {
        TreeNode* node = st.top();
        st.pop();
        result.push_back(node->val);
        
        // å…ˆå‹å·¦å­æ ‘ï¼Œå†å‹å³å­æ ‘
        if (node->left) st.push(node->left);
        if (node->right) st.push(node->right);
    }
    
    // åè½¬ç»“æœï¼ˆæ ¹â†’å³â†’å·¦ å˜ä¸º å·¦â†’å³â†’æ ¹ï¼‰
    reverse(result.begin(), result.end());
    return result;
}
```

### å±‚åºéå†

```cpp
// LeetCode 102: äºŒå‰æ ‘çš„å±‚åºéå†
vector<vector<int>> levelOrder(TreeNode* root) {
    vector<vector<int>> result;
    if (root == nullptr) return result;
    
    queue<TreeNode*> q;
    q.push(root);
    
    while (!q.empty()) {
        int size = q.size();
        vector<int> level;
        
        // å¤„ç†å½“å‰å±‚çš„æ‰€æœ‰èŠ‚ç‚¹
        for (int i = 0; i < size; i++) {
            TreeNode* node = q.front();
            q.pop();
            level.push_back(node->val);
            
            if (node->left) q.push(node->left);
            if (node->right) q.push(node->right);
        }
        
        result.push_back(level);
    }
    
    return result;
}
```

---

## ğŸ—ï¸ äºŒå‰æ ‘æ„é€ 

### æ ¸å¿ƒæ€æƒ³
é€šè¿‡éå†åºåˆ—é‡å»ºäºŒå‰æ ‘ï¼Œå…³é”®æ˜¯æ‰¾åˆ°æ ¹èŠ‚ç‚¹ä½ç½®ï¼Œç„¶åé€’å½’æ„é€ å·¦å³å­æ ‘ã€‚

### æ„é€ æ–¹æ³•å¯¹æ¯”
| éå†ç»„åˆ | èƒ½å¦å”¯ä¸€ç¡®å®š | å…³é”®ç‚¹ |
|---------|-------------|--------|
| å‰åº+ä¸­åº | âœ… èƒ½ | å‰åºç¡®å®šæ ¹ï¼Œä¸­åºåˆ’åˆ†å·¦å³ |
| ååº+ä¸­åº | âœ… èƒ½ | ååºç¡®å®šæ ¹ï¼Œä¸­åºåˆ’åˆ†å·¦å³ |
| å‰åº+ååº | âŒ ä¸èƒ½ | æ— æ³•ç¡®å®šå·¦å³å­æ ‘è¾¹ç•Œ |
| å±‚åº+ä¸­åº | âœ… èƒ½ | å±‚åºç¡®å®šæ ¹ï¼Œä¸­åºåˆ’åˆ†å·¦å³ |


### ä»å‰åºå’Œä¸­åºæ„é€ 

```cpp
// LeetCode 105: ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘
class Solution {
public:
    TreeNode* buildTree(vector<int>& preorder, vector<int>& inorder) {
        // å»ºç«‹ä¸­åºéå†çš„å€¼åˆ°ç´¢å¼•çš„æ˜ å°„
        unordered_map<int, int> inMap;
        for (int i = 0; i < inorder.size(); i++) {
            inMap[inorder[i]] = i;
        }
        return build(preorder, 0, preorder.size() - 1,
                    inorder, 0, inorder.size() - 1, inMap);
    }
    
private:
    TreeNode* build(vector<int>& preorder, int preStart, int preEnd,
                   vector<int>& inorder, int inStart, int inEnd,
                   unordered_map<int, int>& inMap) {
        if (preStart > preEnd) return nullptr;
        
        // å‰åºéå†çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ ¹èŠ‚ç‚¹
        int rootVal = preorder[preStart];
        TreeNode* root = new TreeNode(rootVal);
        
        // åœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°æ ¹èŠ‚ç‚¹çš„ä½ç½®
        int inRoot = inMap[rootVal];
        int leftSize = inRoot - inStart;
        
        // é€’å½’æ„é€ å·¦å³å­æ ‘
        root->left = build(preorder, preStart + 1, preStart + leftSize,
                          inorder, inStart, inRoot - 1, inMap);
        root->right = build(preorder, preStart + leftSize + 1, preEnd,
                           inorder, inRoot + 1, inEnd, inMap);
        
        return root;
    }
};
```

### ä»ä¸­åºå’Œååºæ„é€ 

```cpp
// LeetCode 106: ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘
TreeNode* buildTree(vector<int>& inorder, vector<int>& postorder) {
    unordered_map<int, int> inMap;
    for (int i = 0; i < inorder.size(); i++) {
        inMap[inorder[i]] = i;
    }
    return build(inorder, 0, inorder.size() - 1,
                postorder, 0, postorder.size() - 1, inMap);
}

TreeNode* build(vector<int>& inorder, int inStart, int inEnd,
               vector<int>& postorder, int postStart, int postEnd,
               unordered_map<int, int>& inMap) {
    if (inStart > inEnd) return nullptr;
    
    // ååºéå†çš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ ¹èŠ‚ç‚¹
    int rootVal = postorder[postEnd];
    TreeNode* root = new TreeNode(rootVal);
    
    int inRoot = inMap[rootVal];
    int leftSize = inRoot - inStart;
    
    root->left = build(inorder, inStart, inRoot - 1,
                      postorder, postStart, postStart + leftSize - 1, inMap);
    root->right = build(inorder, inRoot + 1, inEnd,
                       postorder, postStart + leftSize, postEnd - 1, inMap);
    
    return root;
}
```

---

## ğŸ“ äºŒå‰æ ‘å±æ€§

### æ·±åº¦ä¸é«˜åº¦

```cpp
// äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ (LeetCode 104)
int maxDepth(TreeNode* root) {
    if (root == nullptr) return 0;
    return max(maxDepth(root->left), maxDepth(root->right)) + 1;
}

// äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ (LeetCode 111)
int minDepth(TreeNode* root) {
    if (root == nullptr) return 0;
    if (root->left == nullptr) return minDepth(root->right) + 1;
    if (root->right == nullptr) return minDepth(root->left) + 1;
    return min(minDepth(root->left), minDepth(root->right)) + 1;
}
```


### å¹³è¡¡æ€§åˆ¤æ–­

```cpp
// å¹³è¡¡äºŒå‰æ ‘ (LeetCode 110)
class Solution {
public:
    bool isBalanced(TreeNode* root) {
        return getHeight(root) != -1;
    }
    
private:
    int getHeight(TreeNode* node) {
        if (node == nullptr) return 0;
        
        int leftHeight = getHeight(node->left);
        if (leftHeight == -1) return -1;  // å·¦å­æ ‘ä¸å¹³è¡¡
        
        int rightHeight = getHeight(node->right);
        if (rightHeight == -1) return -1;  // å³å­æ ‘ä¸å¹³è¡¡
        
        // æ£€æŸ¥å½“å‰èŠ‚ç‚¹æ˜¯å¦å¹³è¡¡
        if (abs(leftHeight - rightHeight) > 1) return -1;
        
        return max(leftHeight, rightHeight) + 1;
    }
};
```

### èŠ‚ç‚¹æ•°é‡

```cpp
// å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•° (LeetCode 222)
int countNodes(TreeNode* root) {
    if (root == nullptr) return 0;
    
    int leftDepth = 0, rightDepth = 0;
    TreeNode* left = root->left;
    TreeNode* right = root->right;
    
    // è®¡ç®—å·¦å³å­æ ‘æ·±åº¦
    while (left) {
        left = left->left;
        leftDepth++;
    }
    while (right) {
        right = right->right;
        rightDepth++;
    }
    
    // å¦‚æœå·¦å³æ·±åº¦ç›¸åŒï¼Œè¯´æ˜æ˜¯æ»¡äºŒå‰æ ‘
    if (leftDepth == rightDepth) {
        return (2 << leftDepth) - 1;  // 2^(depth+1) - 1
    }
    
    // å¦åˆ™é€’å½’è®¡ç®—
    return countNodes(root->left) + countNodes(root->right) + 1;
}
```

---

## ğŸ” äºŒå‰æœç´¢æ ‘

### BSTç‰¹æ€§
- **æœ‰åºæ€§**: å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹ < æ ¹èŠ‚ç‚¹ < å³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹
- **ä¸­åºéå†**: å¾—åˆ°é€’å¢åºåˆ—
- **æŸ¥æ‰¾æ•ˆç‡**: å¹³è¡¡æ—¶O(log n)ï¼Œé€€åŒ–æ—¶O(n)

### BSTéªŒè¯

```cpp
// éªŒè¯äºŒå‰æœç´¢æ ‘ (LeetCode 98)
class Solution {
public:
    bool isValidBST(TreeNode* root) {
        return validate(root, LONG_MIN, LONG_MAX);
    }
    
private:
    bool validate(TreeNode* node, long minVal, long maxVal) {
        if (node == nullptr) return true;
        
        // å½“å‰èŠ‚ç‚¹å€¼å¿…é¡»åœ¨(minVal, maxVal)èŒƒå›´å†…
        if (node->val <= minVal || node->val >= maxVal) {
            return false;
        }
        
        // é€’å½’éªŒè¯å·¦å³å­æ ‘
        return validate(node->left, minVal, node->val) &&
               validate(node->right, node->val, maxVal);
    }
};
```

### BSTæŸ¥æ‰¾

```cpp
// äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢ (LeetCode 700)
TreeNode* searchBST(TreeNode* root, int val) {
    if (root == nullptr || root->val == val) return root;
    
    // åˆ©ç”¨BSTçš„æœ‰åºæ€§
    if (val < root->val) {
        return searchBST(root->left, val);
    } else {
        return searchBST(root->right, val);
    }
}
```


### BSTæ’å…¥

```cpp
// äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ (LeetCode 701)
TreeNode* insertIntoBST(TreeNode* root, int val) {
    if (root == nullptr) return new TreeNode(val);
    
    if (val < root->val) {
        root->left = insertIntoBST(root->left, val);
    } else {
        root->right = insertIntoBST(root->right, val);
    }
    
    return root;
}
```

### BSTåˆ é™¤

```cpp
// åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹ (LeetCode 450)
TreeNode* deleteNode(TreeNode* root, int key) {
    if (root == nullptr) return nullptr;
    
    if (key < root->val) {
        root->left = deleteNode(root->left, key);
    } else if (key > root->val) {
        root->right = deleteNode(root->right, key);
    } else {
        // æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹
        if (root->left == nullptr) return root->right;
        if (root->right == nullptr) return root->left;
        
        // èŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼šæ‰¾å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹æ›¿æ¢
        TreeNode* minNode = getMin(root->right);
        root->val = minNode->val;
        root->right = deleteNode(root->right, minNode->val);
    }
    
    return root;
}

TreeNode* getMin(TreeNode* node) {
    while (node->left != nullptr) {
        node = node->left;
    }
    return node;
}
```

### BSTè½¬æ¢

```cpp
// å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘ (LeetCode 108)
TreeNode* sortedArrayToBST(vector<int>& nums) {
    return build(nums, 0, nums.size() - 1);
}

TreeNode* build(vector<int>& nums, int left, int right) {
    if (left > right) return nullptr;
    
    // é€‰æ‹©ä¸­é—´å…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œä¿è¯å¹³è¡¡
    int mid = left + (right - left) / 2;
    TreeNode* root = new TreeNode(nums[mid]);
    
    root->left = build(nums, left, mid - 1);
    root->right = build(nums, mid + 1, right);
    
    return root;
}
```

---

## ğŸ›¤ï¸ è·¯å¾„é—®é¢˜

### è·¯å¾„æ€»å’Œ

```cpp
// è·¯å¾„æ€»å’Œ (LeetCode 112)
bool hasPathSum(TreeNode* root, int targetSum) {
    if (root == nullptr) return false;
    
    // å¶å­èŠ‚ç‚¹
    if (root->left == nullptr && root->right == nullptr) {
        return root->val == targetSum;
    }
    
    // é€’å½’æ£€æŸ¥å·¦å³å­æ ‘
    return hasPathSum(root->left, targetSum - root->val) ||
           hasPathSum(root->right, targetSum - root->val);
}
```

### è·¯å¾„æ€»å’Œ II

```cpp
// è·¯å¾„æ€»å’Œ II (LeetCode 113) - æ‰¾å‡ºæ‰€æœ‰è·¯å¾„
class Solution {
public:
    vector<vector<int>> pathSum(TreeNode* root, int targetSum) {
        vector<vector<int>> result;
        vector<int> path;
        dfs(root, targetSum, path, result);
        return result;
    }
    
private:
    void dfs(TreeNode* node, int sum, vector<int>& path, 
             vector<vector<int>>& result) {
        if (node == nullptr) return;
        
        path.push_back(node->val);
        
        // å¶å­èŠ‚ç‚¹ä¸”è·¯å¾„å’Œç­‰äºç›®æ ‡å€¼
        if (node->left == nullptr && node->right == nullptr && 
            sum == node->val) {
            result.push_back(path);
        }
        
        dfs(node->left, sum - node->val, path, result);
        dfs(node->right, sum - node->val, path, result);
        
        path.pop_back();  // å›æº¯
    }
};
```


### äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œ

```cpp
// äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ (LeetCode 124)
class Solution {
public:
    int maxPathSum(TreeNode* root) {
        int maxSum = INT_MIN;
        maxGain(root, maxSum);
        return maxSum;
    }
    
private:
    int maxGain(TreeNode* node, int& maxSum) {
        if (node == nullptr) return 0;
        
        // é€’å½’è®¡ç®—å·¦å³å­æ ‘çš„æœ€å¤§è´¡çŒ®å€¼ï¼ˆè´Ÿæ•°ä¸é€‰ï¼‰
        int leftGain = max(maxGain(node->left, maxSum), 0);
        int rightGain = max(maxGain(node->right, maxSum), 0);
        
        // æ›´æ–°æœ€å¤§è·¯å¾„å’Œï¼ˆç»è¿‡å½“å‰èŠ‚ç‚¹çš„è·¯å¾„ï¼‰
        int pathSum = node->val + leftGain + rightGain;
        maxSum = max(maxSum, pathSum);
        
        // è¿”å›å½“å‰èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼
        return node->val + max(leftGain, rightGain);
    }
};
```

---

## ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ å…¬å…±ç¥–å…ˆ

### æœ€è¿‘å…¬å…±ç¥–å…ˆ

```cpp
// äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ (LeetCode 236)
TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q) {
    // é€’å½’ç»ˆæ­¢æ¡ä»¶
    if (root == nullptr || root == p || root == q) {
        return root;
    }
    
    // é€’å½’æŸ¥æ‰¾å·¦å³å­æ ‘
    TreeNode* left = lowestCommonAncestor(root->left, p, q);
    TreeNode* right = lowestCommonAncestor(root->right, p, q);
    
    // å¦‚æœpå’Œqåˆ†åˆ«åœ¨å·¦å³å­æ ‘ï¼Œå½“å‰èŠ‚ç‚¹å°±æ˜¯LCA
    if (left != nullptr && right != nullptr) {
        return root;
    }
    
    // å¦åˆ™è¿”å›éç©ºçš„é‚£ä¸ªå­æ ‘ç»“æœ
    return left != nullptr ? left : right;
}
```

### BSTçš„æœ€è¿‘å…¬å…±ç¥–å…ˆ

```cpp
// äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ (LeetCode 235)
TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q) {
    // åˆ©ç”¨BSTçš„æ€§è´¨
    if (root->val > p->val && root->val > q->val) {
        // på’Œqéƒ½åœ¨å·¦å­æ ‘
        return lowestCommonAncestor(root->left, p, q);
    }
    if (root->val < p->val && root->val < q->val) {
        // på’Œqéƒ½åœ¨å³å­æ ‘
        return lowestCommonAncestor(root->right, p, q);
    }
    // på’Œqåˆ†åˆ«åœ¨å·¦å³å­æ ‘ï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå°±æ˜¯root
    return root;
}
```

---

## ğŸ”§ äºŒå‰æ ‘ä¿®æ”¹

### ç¿»è½¬äºŒå‰æ ‘

```cpp
// ç¿»è½¬äºŒå‰æ ‘ (LeetCode 226)
TreeNode* invertTree(TreeNode* root) {
    if (root == nullptr) return nullptr;
    
    // äº¤æ¢å·¦å³å­æ ‘
    swap(root->left, root->right);
    
    // é€’å½’ç¿»è½¬å·¦å³å­æ ‘
    invertTree(root->left);
    invertTree(root->right);
    
    return root;
}
```

### å¯¹ç§°äºŒå‰æ ‘

```cpp
// å¯¹ç§°äºŒå‰æ ‘ (LeetCode 101)
class Solution {
public:
    bool isSymmetric(TreeNode* root) {
        if (root == nullptr) return true;
        return isMirror(root->left, root->right);
    }
    
private:
    bool isMirror(TreeNode* left, TreeNode* right) {
        if (left == nullptr && right == nullptr) return true;
        if (left == nullptr || right == nullptr) return false;
        
        return (left->val == right->val) &&
               isMirror(left->left, right->right) &&
               isMirror(left->right, right->left);
    }
};
```


### åˆå¹¶äºŒå‰æ ‘

```cpp
// åˆå¹¶äºŒå‰æ ‘ (LeetCode 617)
TreeNode* mergeTrees(TreeNode* root1, TreeNode* root2) {
    if (root1 == nullptr) return root2;
    if (root2 == nullptr) return root1;
    
    // åˆå¹¶å½“å‰èŠ‚ç‚¹
    root1->val += root2->val;
    
    // é€’å½’åˆå¹¶å·¦å³å­æ ‘
    root1->left = mergeTrees(root1->left, root2->left);
    root1->right = mergeTrees(root1->right, root2->right);
    
    return root1;
}
```

---

## ğŸ¯ ç»å…¸é¢˜ç›®

### åŸºç¡€é¢˜ç›®
| é¢˜å· | é¢˜ç›® | éš¾åº¦ | æ ¸å¿ƒæŠ€å·§ |
|------|------|------|----------|
| 144 | äºŒå‰æ ‘çš„å‰åºéå† | Easy | é€’å½’/è¿­ä»£ |
| 94 | äºŒå‰æ ‘çš„ä¸­åºéå† | Easy | é€’å½’/è¿­ä»£ |
| 145 | äºŒå‰æ ‘çš„ååºéå† | Easy | é€’å½’/è¿­ä»£ |
| 102 | äºŒå‰æ ‘çš„å±‚åºéå† | Medium | BFSé˜Ÿåˆ— |
| 104 | äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ | Easy | é€’å½’/BFS |
| 111 | äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ | Easy | é€’å½’/BFS |
| 226 | ç¿»è½¬äºŒå‰æ ‘ | Easy | é€’å½’ |
| 101 | å¯¹ç§°äºŒå‰æ ‘ | Easy | é€’å½’ |

### è¿›é˜¶é¢˜ç›®
| é¢˜å· | é¢˜ç›® | éš¾åº¦ | æ ¸å¿ƒæŠ€å·§ |
|------|------|------|----------|
| 105 | ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ | Medium | é€’å½’+å“ˆå¸Œè¡¨ |
| 106 | ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ | Medium | é€’å½’+å“ˆå¸Œè¡¨ |
| 98 | éªŒè¯äºŒå‰æœç´¢æ ‘ | Medium | é€’å½’+èŒƒå›´ |
| 236 | äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ | Medium | é€’å½’ |
| 112 | è·¯å¾„æ€»å’Œ | Easy | é€’å½’/DFS |
| 113 | è·¯å¾„æ€»å’Œ II | Medium | å›æº¯ |
| 110 | å¹³è¡¡äºŒå‰æ ‘ | Easy | é€’å½’ |
| 222 | å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•° | Medium | é€’å½’+ä½è¿ç®— |

### å›°éš¾é¢˜ç›®
| é¢˜å· | é¢˜ç›® | éš¾åº¦ | æ ¸å¿ƒæŠ€å·§ |
|------|------|------|----------|
| 124 | äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ | Hard | é€’å½’+å…¨å±€å˜é‡ |
| 297 | äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ– | Hard | BFS/DFS |
| 114 | äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨ | Medium | é€’å½’/è¿­ä»£ |
| 99 | æ¢å¤äºŒå‰æœç´¢æ ‘ | Medium | ä¸­åºéå† |

---

## ğŸ”§ è§£é¢˜æŠ€å·§æ€»ç»“

### 1. é¢˜ç›®ç±»å‹è¯†åˆ«
- **éå†é—®é¢˜** â†’ é€’å½’/è¿­ä»£/å±‚åºéå†
- **æ„é€ é—®é¢˜** â†’ é€’å½’+å“ˆå¸Œè¡¨ä¼˜åŒ–
- **å±æ€§åˆ¤æ–­** â†’ é€’å½’è®¡ç®—æ·±åº¦/å¹³è¡¡æ€§
- **BSTé—®é¢˜** â†’ åˆ©ç”¨æœ‰åºæ€§è´¨
- **è·¯å¾„é—®é¢˜** â†’ DFS+å›æº¯
- **ç¥–å…ˆé—®é¢˜** â†’ é€’å½’æŸ¥æ‰¾

### 2. é€’å½’ä¸‰è¦ç´ 
1. **ç¡®å®šé€’å½’å‡½æ•°å‚æ•°å’Œè¿”å›å€¼**
   - éœ€è¦ä»€ä¹ˆå‚æ•°ï¼Ÿè¿”å›ä»€ä¹ˆç±»å‹ï¼Ÿ
2. **ç¡®å®šç»ˆæ­¢æ¡ä»¶**
   - ä»€ä¹ˆæ—¶å€™åœæ­¢é€’å½’ï¼Ÿ
3. **ç¡®å®šå•å±‚é€’å½’é€»è¾‘**
   - å½“å‰å±‚åšä»€ä¹ˆï¼Ÿå¦‚ä½•è°ƒç”¨ä¸‹ä¸€å±‚ï¼Ÿ

### 3. å¸¸ç”¨æŠ€å·§
- **å‰åºä½ç½®**: åœ¨è¿›å…¥èŠ‚ç‚¹æ—¶å¤„ç†ï¼ˆè‡ªé¡¶å‘ä¸‹ï¼‰
- **ååºä½ç½®**: åœ¨ç¦»å¼€èŠ‚ç‚¹æ—¶å¤„ç†ï¼ˆè‡ªåº•å‘ä¸Šï¼‰
- **ä¸­åºä½ç½®**: BSTä¸­è·å–æœ‰åºåºåˆ—
- **å±‚åºéå†**: ä½¿ç”¨é˜Ÿåˆ—ï¼Œé€‚åˆå±‚æ¬¡ç›¸å…³é—®é¢˜
- **å“ˆå¸Œè¡¨**: ä¼˜åŒ–æŸ¥æ‰¾ï¼Œå¦‚æ„é€ æ ‘æ—¶æŸ¥æ‰¾æ ¹èŠ‚ç‚¹ä½ç½®

### 4. æ—¶é—´å¤æ‚åº¦åˆ†æ
- **éå†**: O(n) - è®¿é—®æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡
- **æŸ¥æ‰¾**: O(log n) ~ O(n) - å–å†³äºæ ‘çš„å¹³è¡¡æ€§
- **æ„é€ **: O(n) - éœ€è¦å¤„ç†æ‰€æœ‰èŠ‚ç‚¹
- **è·¯å¾„**: O(n) - å¯èƒ½éœ€è¦éå†æ‰€æœ‰è·¯å¾„

### 5. ç©ºé—´å¤æ‚åº¦åˆ†æ
- **é€’å½’æ ˆ**: O(h) - hä¸ºæ ‘çš„é«˜åº¦
- **è¿­ä»£æ ˆ**: O(h) - æœ€åæƒ…å†µä¸‹å­˜å‚¨ä¸€æ¡è·¯å¾„
- **é˜Ÿåˆ—**: O(w) - wä¸ºæ ‘çš„æœ€å¤§å®½åº¦
- **å“ˆå¸Œè¡¨**: O(n) - å­˜å‚¨èŠ‚ç‚¹å€¼åˆ°ç´¢å¼•çš„æ˜ å°„


### 6. è¾¹ç•Œæ¡ä»¶å¤„ç†
- **ç©ºæ ‘**: `root == nullptr`
- **å•èŠ‚ç‚¹**: `root->left == nullptr && root->right == nullptr`
- **åªæœ‰å·¦å­æ ‘**: `root->right == nullptr`
- **åªæœ‰å³å­æ ‘**: `root->left == nullptr`
- **é€’å½’ç»ˆæ­¢**: æ˜ç¡®é€’å½’çš„ç»ˆæ­¢æ¡ä»¶

---

## ğŸ“š å­¦ä¹ è·¯å¾„

### ç¬¬ä¸€é˜¶æ®µ: åŸºç¡€æŒæ¡ï¼ˆ1-2å‘¨ï¼‰
1. **ç†è§£æ ‘çš„ç»“æ„**: èŠ‚ç‚¹å®šä¹‰ã€æ ‘çš„æ€§è´¨
2. **æŒæ¡ä¸‰ç§éå†**: å‰åºã€ä¸­åºã€ååºï¼ˆé€’å½’å’Œè¿­ä»£ï¼‰
3. **å±‚åºéå†**: BFSæ€æƒ³ï¼Œé˜Ÿåˆ—å®ç°

**æ¨èé¢˜ç›®**: 144, 94, 145, 102, 104, 111

### ç¬¬äºŒé˜¶æ®µ: é€’å½’æ€ç»´ï¼ˆ2-3å‘¨ï¼‰
1. **é€’å½’ä¸‰è¦ç´ **: å‚æ•°ã€ç»ˆæ­¢æ¡ä»¶ã€å•å±‚é€»è¾‘
2. **æ ‘çš„å±æ€§**: æ·±åº¦ã€é«˜åº¦ã€å¹³è¡¡æ€§ã€èŠ‚ç‚¹æ•°
3. **æ ‘çš„ä¿®æ”¹**: ç¿»è½¬ã€å¯¹ç§°ã€åˆå¹¶

**æ¨èé¢˜ç›®**: 226, 101, 617, 110, 222, 543

### ç¬¬ä¸‰é˜¶æ®µ: è¿›é˜¶æŠ€å·§ï¼ˆ3-4å‘¨ï¼‰
1. **æ ‘çš„æ„é€ **: ä»éå†åºåˆ—é‡å»ºæ ‘
2. **BSTæ“ä½œ**: éªŒè¯ã€æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤
3. **è·¯å¾„é—®é¢˜**: è·¯å¾„å’Œã€æœ€å¤§è·¯å¾„å’Œ

**æ¨èé¢˜ç›®**: 105, 106, 98, 700, 701, 450, 112, 113

### ç¬¬å››é˜¶æ®µ: ç»¼åˆåº”ç”¨ï¼ˆé•¿æœŸï¼‰
1. **å…¬å…±ç¥–å…ˆ**: LCAé—®é¢˜
2. **å¤æ‚è·¯å¾„**: æœ€å¤§è·¯å¾„å’Œã€è·¯å¾„è®¡æ•°
3. **åºåˆ—åŒ–**: æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–
4. **æ ‘å½¢DP**: æ ‘ä¸Šçš„åŠ¨æ€è§„åˆ’é—®é¢˜

**æ¨èé¢˜ç›®**: 236, 235, 124, 297, 337

---

## ğŸ’¡ å®æˆ˜æŠ€å·§

### é€’å½’ vs è¿­ä»£é€‰æ‹©
```
é€’å½’ä¼˜åŠ¿ï¼š
âœ… ä»£ç ç®€æ´ï¼Œæ˜“äºç†è§£
âœ… ç¬¦åˆæ ‘çš„é€’å½’å®šä¹‰
âœ… é€‚åˆå¤§å¤šæ•°æ ‘çš„é—®é¢˜

è¿­ä»£ä¼˜åŠ¿ï¼š
âœ… é¿å…æ ˆæº¢å‡ºï¼ˆæ·±åº¦å¾ˆå¤§æ—¶ï¼‰
âœ… ç©ºé—´å¯æ§
âœ… æŸäº›åœºæ™¯æ›´é«˜æ•ˆ
```

### è°ƒè¯•æŠ€å·§
```cpp
// æ‰“å°æ ‘çš„ç»“æ„ï¼ˆå±‚åºéå†ï¼‰
void printTree(TreeNode* root) {
    if (root == nullptr) {
        cout << "Empty tree" << endl;
        return;
    }
    
    queue<TreeNode*> q;
    q.push(root);
    
    while (!q.empty()) {
        int size = q.size();
        for (int i = 0; i < size; i++) {
            TreeNode* node = q.front();
            q.pop();
            
            if (node) {
                cout << node->val << " ";
                q.push(node->left);
                q.push(node->right);
            } else {
                cout << "null ";
            }
        }
        cout << endl;
    }
}
```

### å¸¸è§é™·é˜±
1. **ç©ºæŒ‡é’ˆ**: è®¿é—®èŠ‚ç‚¹å‰æ£€æŸ¥æ˜¯å¦ä¸ºç©º
2. **é€’å½’ç»ˆæ­¢**: æ˜ç¡®é€’å½’çš„ç»ˆæ­¢æ¡ä»¶
3. **è¿”å›å€¼**: æ³¨æ„é€’å½’å‡½æ•°çš„è¿”å›å€¼ç±»å‹
4. **å…¨å±€å˜é‡**: ä½¿ç”¨å¼•ç”¨ä¼ é€’æˆ–å…¨å±€å˜é‡è®°å½•ç»“æœ
5. **å†…å­˜æ³„æ¼**: C++ä¸­æ³¨æ„é‡Šæ”¾åŠ¨æ€åˆ†é…çš„èŠ‚ç‚¹

### æ€§èƒ½ä¼˜åŒ–
1. **å“ˆå¸Œè¡¨ä¼˜åŒ–**: æ„é€ æ ‘æ—¶ç”¨å“ˆå¸Œè¡¨å­˜å‚¨ç´¢å¼•
2. **å‰ªæ**: æå‰ç»ˆæ­¢ä¸å¿…è¦çš„é€’å½’
3. **è®°å¿†åŒ–**: é¿å…é‡å¤è®¡ç®—å­é—®é¢˜
4. **è¿­ä»£ä»£æ›¿é€’å½’**: æ·±åº¦å¾ˆå¤§æ—¶é¿å…æ ˆæº¢å‡º

---

## ğŸŒŸ æ ¸å¿ƒæ€æƒ³æ€»ç»“

### é€’å½’æ€ç»´
äºŒå‰æ ‘å¤©ç„¶å…·æœ‰é€’å½’ç»“æ„ï¼Œå¤§éƒ¨åˆ†é—®é¢˜éƒ½å¯ä»¥ç”¨é€’å½’è§£å†³ï¼š
- **åˆ†è§£é—®é¢˜**: å°†é—®é¢˜åˆ†è§£ä¸ºå·¦å³å­æ ‘çš„å­é—®é¢˜
- **åˆå¹¶ç»“æœ**: æ ¹æ®å­é—®é¢˜çš„ç»“æœå¾—åˆ°åŸé—®é¢˜çš„è§£
- **ç»ˆæ­¢æ¡ä»¶**: ç©ºèŠ‚ç‚¹æˆ–å¶å­èŠ‚ç‚¹

### éå†æ¡†æ¶
```cpp
void traverse(TreeNode* root) {
    if (root == nullptr) return;
    
    // å‰åºä½ç½®ï¼šè¿›å…¥èŠ‚ç‚¹æ—¶çš„æ“ä½œ
    // é€‚åˆè‡ªé¡¶å‘ä¸‹ä¼ é€’ä¿¡æ¯
    
    traverse(root->left);
    
    // ä¸­åºä½ç½®ï¼šåœ¨å·¦å³å­æ ‘ä¹‹é—´çš„æ“ä½œ
    // BSTä¸­åºéå†å¾—åˆ°æœ‰åºåºåˆ—
    
    traverse(root->right);
    
    // ååºä½ç½®ï¼šç¦»å¼€èŠ‚ç‚¹æ—¶çš„æ“ä½œ
    // é€‚åˆè‡ªåº•å‘ä¸Šæ”¶é›†ä¿¡æ¯
}
```

### åˆ†æ²»æ€æƒ³
å¾ˆå¤šæ ‘çš„é—®é¢˜å¯ä»¥ç”¨åˆ†æ²»æ³•è§£å†³ï¼š
1. **åˆ†è§£**: å°†é—®é¢˜åˆ†è§£ä¸ºå·¦å³å­æ ‘çš„å­é—®é¢˜
2. **è§£å†³**: é€’å½’è§£å†³å­é—®é¢˜
3. **åˆå¹¶**: åˆå¹¶å­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£

---

*ä¸“é¢˜åˆ›å»ºæ—¶é—´: 2025-02-05*
*é€‚ç”¨äº: LeetCodeã€é¢è¯•å‡†å¤‡ã€ç®—æ³•ç«èµ›*
