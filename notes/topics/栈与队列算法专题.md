# æ ˆä¸é˜Ÿåˆ—ç®—æ³•ä¸“é¢˜ (Stack & Queue Algorithms)

## ğŸ“š ä¸“é¢˜ç›®å½•
- [æ ˆä¸é˜Ÿåˆ—åŸºç¡€](#æ ˆä¸é˜Ÿåˆ—åŸºç¡€)
- [STLåº•å±‚å®ç°](#STLåº•å±‚å®ç°)
- [æ ˆçš„ç»å…¸åº”ç”¨](#æ ˆçš„ç»å…¸åº”ç”¨)
- [é˜Ÿåˆ—çš„ç»å…¸åº”ç”¨](#é˜Ÿåˆ—çš„ç»å…¸åº”ç”¨)
- [å•è°ƒæ ˆ](#å•è°ƒæ ˆ)
- [å•è°ƒé˜Ÿåˆ—](#å•è°ƒé˜Ÿåˆ—)
- [ç”¨æ ˆå®ç°é˜Ÿåˆ—](#ç”¨æ ˆå®ç°é˜Ÿåˆ—)
- [ç”¨é˜Ÿåˆ—å®ç°æ ˆ](#ç”¨é˜Ÿåˆ—å®ç°æ ˆ)
- [ç»å…¸é¢˜ç›®](#ç»å…¸é¢˜ç›®)

---

## ğŸ¯ æ ˆä¸é˜Ÿåˆ—åŸºç¡€

### æ ˆ (Stack) - åè¿›å…ˆå‡º (LIFO)
```
æ ˆé¡¶ â†â”€â”€â”€ push/pop
  â†“
 [3]  â†â”€ æœ€åå…¥æ ˆï¼Œæœ€å…ˆå‡ºæ ˆ
 [2]
 [1]  â†â”€ æœ€å…ˆå…¥æ ˆï¼Œæœ€åå‡ºæ ˆ
æ ˆåº•
```

### é˜Ÿåˆ— (Queue) - å…ˆè¿›å…ˆå‡º (FIFO)  
```
é˜Ÿå°¾ â†â”€â”€â”€ push     é˜Ÿå¤´ â†â”€â”€â”€ pop
  â†“                   â†“
 [3] [2] [1]  â†â”€ å…ˆå…¥å…ˆå‡º
```

### åŸºæœ¬æ“ä½œå¤æ‚åº¦
| æ•°æ®ç»“æ„ | æ“ä½œ | æ—¶é—´å¤æ‚åº¦ | è¯´æ˜ |
|---------|------|------------|------|
| æ ˆ | push/pop | O(1) | æ ˆé¡¶æ“ä½œ |
| æ ˆ | top | O(1) | æŸ¥çœ‹æ ˆé¡¶å…ƒç´  |
| é˜Ÿåˆ— | push | O(1) | é˜Ÿå°¾å…¥é˜Ÿ |
| é˜Ÿåˆ— | pop | O(1) | é˜Ÿå¤´å‡ºé˜Ÿ |
| é˜Ÿåˆ— | front/back | O(1) | æŸ¥çœ‹é˜Ÿå¤´/é˜Ÿå°¾ |

### é‡è¦ç‰¹æ€§ï¼šä¸æä¾›è¿­ä»£å™¨

> âš ï¸ **æ ¸å¿ƒé™åˆ¶**: æ ˆå’Œé˜Ÿåˆ—éƒ½**ä¸æä¾›è¿­ä»£å™¨(iterator)**ï¼Œä¸å…è®¸éå†è¡Œä¸ºï¼

**æ ˆçš„è®¿é—®é™åˆ¶**ï¼š
- âœ… **åªèƒ½è®¿é—®æ ˆé¡¶**: é€šè¿‡ `top()` æŸ¥çœ‹æ ˆé¡¶å…ƒç´ 
- âŒ **æ— æ³•éå†**: ä¸èƒ½è®¿é—®æ ˆä¸­é—´æˆ–æ ˆåº•å…ƒç´ 
- âŒ **æ— è¿­ä»£å™¨**: ä¸æä¾› `begin()`ã€`end()` ç­‰è¿­ä»£å™¨æ¥å£
- ğŸ¯ **è®¾è®¡å“²å­¦**: æ‰€æœ‰å…ƒç´ å¿…é¡»ç¬¦åˆ**åè¿›å…ˆå‡º**è§„åˆ™

**é˜Ÿåˆ—çš„è®¿é—®é™åˆ¶**ï¼š
- âœ… **åªèƒ½è®¿é—®ä¸¤ç«¯**: é€šè¿‡ `front()` å’Œ `back()` æŸ¥çœ‹é˜Ÿå¤´é˜Ÿå°¾
- âŒ **æ— æ³•éå†**: ä¸èƒ½è®¿é—®é˜Ÿåˆ—ä¸­é—´å…ƒç´   
- âŒ **æ— è¿­ä»£å™¨**: ä¸æä¾›éå†åŠŸèƒ½
- ğŸ¯ **è®¾è®¡å“²å­¦**: æ‰€æœ‰å…ƒç´ å¿…é¡»ç¬¦åˆ**å…ˆè¿›å…ˆå‡º**è§„åˆ™

**å¯¹æ¯”å…¶ä»–å®¹å™¨**ï¼š
| å®¹å™¨ç±»å‹ | è¿­ä»£å™¨æ”¯æŒ | éå†æ–¹å¼ | è®¿é—®é™åˆ¶ |
|---------|-----------|---------|---------|
| vector/array | âœ… æ”¯æŒ | `for(auto it : vec)` | éšæœºè®¿é—® |
| list | âœ… æ”¯æŒ | `for(auto it : lst)` | é¡ºåºè®¿é—® |
| set/map | âœ… æ”¯æŒ | `for(auto it : s)` | æœ‰åºéå† |
| **stack** | âŒ ä¸æ”¯æŒ | æ— æ³•éå† | åªèƒ½è®¿é—®æ ˆé¡¶ |
| **queue** | âŒ ä¸æ”¯æŒ | æ— æ³•éå† | åªèƒ½è®¿é—®ä¸¤ç«¯ |

```cpp
// âŒ ä»¥ä¸‹ä»£ç éƒ½æ˜¯é”™è¯¯çš„ï¼
stack<int> st;
// for (auto x : st) { ... }        // ç¼–è¯‘é”™è¯¯ï¼šæ— è¿­ä»£å™¨
// for (int i = 0; i < st.size(); i++) { st[i] ... }  // ç¼–è¯‘é”™è¯¯ï¼šæ— []è¿ç®—ç¬¦
// auto it = st.begin();            // ç¼–è¯‘é”™è¯¯ï¼šæ— begin()

queue<int> q;
// for (auto x : q) { ... }         // ç¼–è¯‘é”™è¯¯ï¼šæ— è¿­ä»£å™¨  
// q[0] = 10;                       // ç¼–è¯‘é”™è¯¯ï¼šæ— []è¿ç®—ç¬¦
```

**æ­£ç¡®çš„è®¿é—®æ–¹å¼**ï¼š
```cpp
// âœ… æ ˆçš„æ­£ç¡®æ“ä½œ
stack<int> st;
st.push(1); st.push(2); st.push(3);

// åªèƒ½é€šè¿‡popé€ä¸ªè®¿é—®å…ƒç´ 
while (!st.empty()) {
    cout << st.top() << " ";  // è¾“å‡ºï¼š3 2 1
    st.pop();
}

// âœ… é˜Ÿåˆ—çš„æ­£ç¡®æ“ä½œ  
queue<int> q;
q.push(1); q.push(2); q.push(3);

// åªèƒ½é€šè¿‡popé€ä¸ªè®¿é—®å…ƒç´ 
while (!q.empty()) {
    cout << q.front() << " ";  // è¾“å‡ºï¼š1 2 3
    q.pop();
}
```

---

## ğŸ—ï¸ STLåº•å±‚å®ç°

### C++ STLç‰ˆæœ¬å¯¹æ¯”
| STLç‰ˆæœ¬ | ç‰¹ç‚¹ | ä½¿ç”¨ç¼–è¯‘å™¨ |
|---------|------|-----------|
| **HP STL** | æœ€æ—©çš„å®ç°ç‰ˆæœ¬ï¼Œå¼€æº | ç¬¬ä¸€ä¸ªSTLå®ç° |
| **P.J.Plauger STL** | å‚ç…§HP STLå®ç° | Visual C++ |
| **SGI STL** | å¼€æºï¼Œæºç å¯è¯»æ€§é«˜ | GCC (Linux) |

> ğŸ’¡ **é‡è¦**: æˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ˜¯ **SGI STL**

### å®¹å™¨é€‚é…å™¨ (Container Adapter)

**æ ˆå’Œé˜Ÿåˆ—æœ¬è´¨ä¸Šæ˜¯å®¹å™¨é€‚é…å™¨**ï¼Œè€Œä¸æ˜¯å®¹å™¨æœ¬èº«ï¼

```cpp
// æ ˆçš„åº•å±‚å®¹å™¨å¯ä»¥æ˜¯ï¼š
std::stack<int> s1;                          // é»˜è®¤ä½¿ç”¨ deque
std::stack<int, std::vector<int>> s2;        // ä½¿ç”¨ vector
std::stack<int, std::list<int>> s3;          // ä½¿ç”¨ list

// é˜Ÿåˆ—çš„åº•å±‚å®¹å™¨å¯ä»¥æ˜¯ï¼š
std::queue<int> q1;                          // é»˜è®¤ä½¿ç”¨ deque  
std::queue<int, std::list<int>> q2;          // ä½¿ç”¨ list
```

### åº•å±‚å®ç°åŸç†

#### æ ˆçš„å®ç°
```cpp
template<typename T, typename Container = std::deque<T>>
class stack {
private:
    Container c;  // åº•å±‚å®¹å™¨
    
public:
    void push(const T& x) { c.push_back(x); }
    void pop() { c.pop_back(); }
    T& top() { return c.back(); }
    bool empty() const { return c.empty(); }
    size_t size() const { return c.size(); }
};
```

#### é˜Ÿåˆ—çš„å®ç°
```cpp
template<typename T, typename Container = std::deque<T>>
class queue {
private:
    Container c;  // åº•å±‚å®¹å™¨
    
public:
    void push(const T& x) { c.push_back(x); }
    void pop() { c.pop_front(); }
    T& front() { return c.front(); }
    T& back() { return c.back(); }
    bool empty() const { return c.empty(); }
    size_t size() const { return c.size(); }
};
```

### ä¸ºä»€ä¹ˆé»˜è®¤ä½¿ç”¨ dequeï¼Ÿ

**Deque (åŒç«¯é˜Ÿåˆ—) çš„ä¼˜åŠ¿**:
- âœ… **åŒç«¯æ“ä½œ**: æ”¯æŒå¤´å°¾ä¸¤ç«¯çš„é«˜æ•ˆæ’å…¥åˆ é™¤
- âœ… **å†…å­˜æ•ˆç‡**: æ¯”vectoræ›´èŠ‚çœå†…å­˜é‡åˆ†é…
- âœ… **éšæœºè®¿é—®**: æ”¯æŒO(1)éšæœºè®¿é—® (è™½ç„¶æ ˆé˜Ÿåˆ—ç”¨ä¸åˆ°)

**ä¸åŒåº•å±‚å®¹å™¨å¯¹æ¯”**:
| å®¹å™¨ | æ ˆé€‚ç”¨æ€§ | é˜Ÿåˆ—é€‚ç”¨æ€§ | åŸå›  |
|------|----------|-----------|------|
| vector | âœ… å¯ç”¨ | âŒ ä¸é€‚ç”¨ | é˜Ÿå¤´åˆ é™¤O(n) |
| list | âœ… å¯ç”¨ | âœ… å¯ç”¨ | åŒç«¯æ“ä½œO(1) |
| deque | âœ… é»˜è®¤ | âœ… é»˜è®¤ | æœ€å‡è¡¡çš„é€‰æ‹© |

---

## ğŸ“š æ ˆçš„ç»å…¸åº”ç”¨

### 1. æ‹¬å·åŒ¹é…
```cpp
bool isValid(string s) {
    stack<char> st;
    unordered_map<char, char> pairs = {{')', '('}, {']', '['}, {'}', '{'}};
    
    for (char c : s) {
        if (pairs.find(c) != pairs.end()) {
            // å³æ‹¬å·ï¼šæ£€æŸ¥åŒ¹é…
            if (st.empty() || st.top() != pairs[c]) return false;
            st.pop();
        } else {
            // å·¦æ‹¬å·ï¼šå…¥æ ˆ
            st.push(c);
        }
    }
    return st.empty();
}
```

### 2. è¡¨è¾¾å¼æ±‚å€¼ - é€†æ³¢å…°è¡¨è¾¾å¼
```cpp
int evalRPN(vector<string>& tokens) {
    stack<int> st;
    
    for (const string& token : tokens) {
        if (token == "+" || token == "-" || token == "*" || token == "/") {
            int b = st.top(); st.pop();
            int a = st.top(); st.pop();
            
            if (token == "+") st.push(a + b);
            else if (token == "-") st.push(a - b);
            else if (token == "*") st.push(a * b);
            else st.push(a / b);
        } else {
            st.push(stoi(token));
        }
    }
    return st.top();
}
```

### 3. å‡½æ•°è°ƒç”¨æ ˆ
æ ˆåœ¨ç¨‹åºæ‰§è¡Œä¸­çš„è‡ªç„¶åº”ç”¨ï¼š
- **é€’å½’è°ƒç”¨**: å‡½æ•°è°ƒç”¨æ—¶å‹æ ˆï¼Œè¿”å›æ—¶å‡ºæ ˆ
- **å±€éƒ¨å˜é‡**: ä½œç”¨åŸŸç»“æŸæ—¶è‡ªåŠ¨é”€æ¯
- **å¼‚å¸¸å¤„ç†**: æ ˆå±•å¼€ (Stack Unwinding)

---

## ğŸ“š é˜Ÿåˆ—çš„ç»å…¸åº”ç”¨

### 1. å±‚åºéå† (BFS)
```cpp
vector<vector<int>> levelOrder(TreeNode* root) {
    if (!root) return {};
    
    vector<vector<int>> result;
    queue<TreeNode*> q;
    q.push(root);
    
    while (!q.empty()) {
        int size = q.size();
        vector<int> level;
        
        for (int i = 0; i < size; i++) {
            TreeNode* node = q.front();
            q.pop();
            level.push_back(node->val);
            
            if (node->left) q.push(node->left);
            if (node->right) q.push(node->right);
        }
        result.push_back(level);
    }
    return result;
}
```

### 2. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ (éœ€è¦åŒç«¯é˜Ÿåˆ—)
```cpp
vector<int> maxSlidingWindow(vector<int>& nums, int k) {
    deque<int> dq;  // å­˜å‚¨ä¸‹æ ‡ï¼Œç»´æŠ¤å•è°ƒé€’å‡
    vector<int> result;
    
    for (int i = 0; i < nums.size(); i++) {
        // ç§»é™¤çª—å£å¤–çš„å…ƒç´ 
        while (!dq.empty() && dq.front() < i - k + 1) {
            dq.pop_front();
        }
        
        // ç»´æŠ¤å•è°ƒæ€§ï¼šç§»é™¤æ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´ 
        while (!dq.empty() && nums[dq.back()] < nums[i]) {
            dq.pop_back();
        }
        
        dq.push_back(i);
        
        // è®°å½•çª—å£æœ€å¤§å€¼
        if (i >= k - 1) {
            result.push_back(nums[dq.front()]);
        }
    }
    return result;
}
```

---

## ğŸ“ˆ å•è°ƒæ ˆ

**å®šä¹‰**: æ ˆå†…å…ƒç´ ä¿æŒå•è°ƒæ€§çš„æ ˆç»“æ„

### åº”ç”¨åœºæ™¯
- å¯»æ‰¾**ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ **
- å¯»æ‰¾**ä¸‹ä¸€ä¸ªæ›´å°å…ƒç´ **  
- **æŸ±çŠ¶å›¾æœ€å¤§çŸ©å½¢**
- **é›¨æ°´æ¥æ”¶**

### ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ¨¡æ¿
```cpp
vector<int> nextGreaterElements(vector<int>& nums) {
    int n = nums.size();
    vector<int> result(n, -1);
    stack<int> st;  // å­˜å‚¨ä¸‹æ ‡
    
    // å¾ªç¯æ•°ç»„ï¼šéå†ä¸¤é
    for (int i = 0; i < 2 * n; i++) {
        int idx = i % n;
        
        // ç»´æŠ¤å•è°ƒé€’å‡æ ˆ
        while (!st.empty() && nums[st.top()] < nums[idx]) {
            result[st.top()] = nums[idx];
            st.pop();
        }
        
        if (i < n) st.push(idx);
    }
    return result;
}
```

### æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢
```cpp
int largestRectangleArea(vector<int>& heights) {
    stack<int> st;
    heights.insert(heights.begin(), 0);  // å·¦è¾¹æ·»åŠ 0
    heights.push_back(0);                // å³è¾¹æ·»åŠ 0
    
    int maxArea = 0;
    
    for (int i = 0; i < heights.size(); i++) {
        while (!st.empty() && heights[st.top()] > heights[i]) {
            int h = heights[st.top()];
            st.pop();
            int w = i - st.top() - 1;
            maxArea = max(maxArea, h * w);
        }
        st.push(i);
    }
    return maxArea;
}
```

---

## ğŸ“ˆ å•è°ƒé˜Ÿåˆ—

**å®šä¹‰**: é˜Ÿåˆ—å†…å…ƒç´ ä¿æŒå•è°ƒæ€§çš„é˜Ÿåˆ—ç»“æ„ (é€šå¸¸ç”¨åŒç«¯é˜Ÿåˆ—å®ç°)

### æ»‘åŠ¨çª—å£æœ€å¤§å€¼
```cpp
class MonotonicQueue {
private:
    deque<int> dq;
    
public:
    // å…¥é˜Ÿï¼šç»´æŠ¤å•è°ƒé€’å‡
    void push(int val) {
        while (!dq.empty() && dq.back() < val) {
            dq.pop_back();
        }
        dq.push_back(val);
    }
    
    // å‡ºé˜Ÿï¼šå¦‚æœé˜Ÿå¤´æ˜¯è¦åˆ é™¤çš„å…ƒç´ 
    void pop(int val) {
        if (!dq.empty() && dq.front() == val) {
            dq.pop_front();
        }
    }
    
    // è·å–æœ€å¤§å€¼
    int max() {
        return dq.front();
    }
};
```

---

## ğŸ”„ æ ˆé˜Ÿåˆ—ç›¸äº’å®ç°

### ç”¨æ ˆå®ç°é˜Ÿåˆ—
```cpp
class MyQueue {
private:
    stack<int> stIn;   // è¾“å…¥æ ˆ
    stack<int> stOut;  // è¾“å‡ºæ ˆ
    
    void transfer() {
        if (stOut.empty()) {
            while (!stIn.empty()) {
                stOut.push(stIn.top());
                stIn.pop();
            }
        }
    }
    
public:
    void push(int x) {
        stIn.push(x);
    }
    
    int pop() {
        transfer();
        int res = stOut.top();
        stOut.pop();
        return res;
    }
    
    int peek() {
        transfer();
        return stOut.top();
    }
    
    bool empty() {
        return stIn.empty() && stOut.empty();
    }
};
```

### ç”¨é˜Ÿåˆ—å®ç°æ ˆ
```cpp
class MyStack {
private:
    queue<int> q;
    
public:
    void push(int x) {
        int size = q.size();
        q.push(x);
        
        // å°†å‰é¢çš„å…ƒç´ é‡æ–°æ’åˆ—åˆ°åé¢
        for (int i = 0; i < size; i++) {
            q.push(q.front());
            q.pop();
        }
    }
    
    int pop() {
        int res = q.front();
        q.pop();
        return res;
    }
    
    int top() {
        return q.front();
    }
    
    bool empty() {
        return q.empty();
    }
};
```

---

## ğŸ“ ç»å…¸é¢˜ç›®

### å…¥é—¨çº§ (Easy)
| é¢˜å· | é¢˜ç›® | æ ¸å¿ƒè€ƒç‚¹ |
|------|------|---------|
| 20 | æœ‰æ•ˆçš„æ‹¬å· | æ ˆçš„åŸºæœ¬åº”ç”¨ |
| 225 | ç”¨é˜Ÿåˆ—å®ç°æ ˆ | æ•°æ®ç»“æ„è½¬æ¢ |
| 232 | ç”¨æ ˆå®ç°é˜Ÿåˆ— | æ•°æ®ç»“æ„è½¬æ¢ |
| 1047 | åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹ | æ ˆæ¶ˆé™¤ç›¸é‚»å…ƒç´  |

### è¿›é˜¶çº§ (Medium)
| é¢˜å· | é¢˜ç›® | æ ¸å¿ƒè€ƒç‚¹ |
|------|------|---------|
| 150 | é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ | æ ˆå¤„ç†è¡¨è¾¾å¼ |
| 394 | å­—ç¬¦ä¸²è§£ç  | æ ˆå¤„ç†åµŒå¥—ç»“æ„ |
| 739 | æ¯æ—¥æ¸©åº¦ | å•è°ƒæ ˆ |
| 496 | ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I | å•è°ƒæ ˆ |
| 503 | ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II | å•è°ƒæ ˆ + å¾ªç¯æ•°ç»„ |

### å›°éš¾çº§ (Hard)  
| é¢˜å· | é¢˜ç›® | æ ¸å¿ƒè€ƒç‚¹ |
|------|------|---------|
| 84 | æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ | å•è°ƒæ ˆ |
| 42 | æ¥é›¨æ°´ | å•è°ƒæ ˆ/åŒæŒ‡é’ˆ |
| 239 | æ»‘åŠ¨çª—å£æœ€å¤§å€¼ | å•è°ƒé˜Ÿåˆ— |
| 32 | æœ€é•¿æœ‰æ•ˆæ‹¬å· | æ ˆ + åŠ¨æ€è§„åˆ’ |

---

## ğŸ¯ è§£é¢˜æŠ€å·§æ€»ç»“

### 1. æ ˆçš„åº”ç”¨åœºæ™¯è¯†åˆ«
- **æ‹¬å·åŒ¹é…**: é‡åˆ°å·¦æ‹¬å·å…¥æ ˆï¼Œå³æ‹¬å·é…å¯¹å‡ºæ ˆ
- **è¡¨è¾¾å¼æ±‚å€¼**: æ“ä½œæ•°å…¥æ ˆï¼Œé‡åˆ°æ“ä½œç¬¦è®¡ç®—
- **å•è°ƒæ€§é—®é¢˜**: éœ€è¦æ‰¾"ä¸‹ä¸€ä¸ªæ›´å¤§/æ›´å°"å…ƒç´ 
- **å›æº¯æ’¤é”€**: éœ€è¦è®°å½•è·¯å¾„å¹¶èƒ½å›é€€

### 2. é˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯è¯†åˆ«  
- **å±‚åºéå†**: BFSéå†æ ‘æˆ–å›¾
- **æ»‘åŠ¨çª—å£**: éœ€è¦FIFOç‰¹æ€§å¤„ç†çª—å£
- **ç¼“å†²åŒº**: ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹
- **çŠ¶æ€è½¬æ¢**: å¹¿åº¦ä¼˜å…ˆæœç´¢æœ€çŸ­è·¯å¾„

### 3. å•è°ƒæ ˆ/é˜Ÿåˆ—æ¨¡å¼
```cpp
// å•è°ƒæ ˆæ¨¡æ¿ - æ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ 
for (int i = 0; i < n; i++) {
    while (!st.empty() && condition) {
        // å¤„ç†æ ˆé¡¶å…ƒç´ 
        st.pop();
    }
    st.push(i);
}

// å•è°ƒé˜Ÿåˆ—æ¨¡æ¿ - æ»‘åŠ¨çª—å£
for (int i = 0; i < n; i++) {
    // ç§»é™¤çª—å£å¤–å…ƒç´ 
    while (!dq.empty() && dq.front() < i - k + 1) {
        dq.pop_front();
    }
    
    // ç»´æŠ¤å•è°ƒæ€§
    while (!dq.empty() && nums[dq.back()] < nums[i]) {
        dq.pop_back();
    }
    
    dq.push_back(i);
}
```

### 4. å¸¸è§é™·é˜±é¿å…
- âš ï¸ **æ ˆç©ºæ£€æŸ¥**: pop()å’Œtop()å‰æ£€æŸ¥empty()
- âš ï¸ **ç´¢å¼•è¶Šç•Œ**: ä½¿ç”¨ä¸‹æ ‡æ—¶æ³¨æ„è¾¹ç•Œ
- âš ï¸ **å•è°ƒæ€§ç»´æŠ¤**: æ­£ç¡®ç†è§£é€’å¢/é€’å‡çš„å«ä¹‰
- âš ï¸ **å¾ªç¯æ•°ç»„**: ä½¿ç”¨å–æ¨¡è¿ç®— `i % n`

---

## ğŸ’¡ æ·±å…¥æ€è€ƒ

### æ ˆä¸é˜Ÿåˆ—çš„æœ¬è´¨åŒºåˆ«
- **æ ˆ**: é™åˆ¶åœ¨ä¸€ç«¯æ“ä½œï¼Œå¤©ç„¶æ”¯æŒæ’¤é”€/å›é€€
- **é˜Ÿåˆ—**: ä¸¤ç«¯åˆ†åˆ«æ“ä½œï¼Œå¤©ç„¶æ”¯æŒæ’é˜Ÿ/ç¼“å†²

### STLè®¾è®¡å“²å­¦
- **å®¹å™¨é€‚é…å™¨**: é€šè¿‡å·²æœ‰å®¹å™¨å®ç°æ–°çš„æ¥å£
- **å¯æ’æ‹”è®¾è®¡**: å¯ä»¥é€‰æ‹©ä¸åŒçš„åº•å±‚å®¹å™¨
- **å°è£…éš”ç¦»**: éšè—åº•å±‚å®ç°ç»†èŠ‚ï¼Œæä¾›ç»Ÿä¸€æ¥å£

### æ€§èƒ½ä¼˜åŒ–è€ƒè™‘
- **å†…å­˜å±€éƒ¨æ€§**: vectorè¿ç»­å†…å­˜ï¼Œè®¿é—®æ›´å¿«
- **æ“ä½œå¤æ‚åº¦**: dequeåŒç«¯æ“ä½œO(1)ï¼Œé€‚åˆé˜Ÿåˆ—
- **ç©ºé—´æ•ˆç‡**: listèŠ‚ç‚¹å¼€é”€å¤§ï¼Œä½†åŠ¨æ€åˆ†é…çµæ´»

> ğŸ“Œ **æ€»ç»“**: æ·±å…¥ç†è§£æ ˆä¸é˜Ÿåˆ—çš„åº•å±‚å®ç°å’Œè®¾è®¡åŸç†ï¼Œä¸ä»…æœ‰åŠ©äºæ­£ç¡®ä½¿ç”¨ï¼Œæ›´èƒ½æå‡ç®—æ³•è®¾è®¡èƒ½åŠ›å’Œä»£ç è´¨é‡ã€‚