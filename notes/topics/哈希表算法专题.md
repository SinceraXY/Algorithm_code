# å“ˆå¸Œè¡¨ç®—æ³•ä¸“é¢˜ (Hash Table Algorithms)

## ğŸ“š ä¸“é¢˜ç›®å½•
- [å“ˆå¸Œè¡¨åŸºç¡€](#å“ˆå¸Œè¡¨åŸºç¡€)
- [æ•°ç»„ä½œä¸ºå“ˆå¸Œè¡¨](#æ•°ç»„ä½œä¸ºå“ˆå¸Œè¡¨)
- [å­—å…¸æ˜ å°„æŠ€å·§](#å­—å…¸æ˜ å°„æŠ€å·§)
- [è®¡æ•°ç»Ÿè®¡](#è®¡æ•°ç»Ÿè®¡)
- [å¿«é€ŸæŸ¥æ‰¾](#å¿«é€ŸæŸ¥æ‰¾)
- [å»é‡ä¸é›†åˆ](#å»é‡ä¸é›†åˆ)
- [å“ˆå¸Œå†²çªå¤„ç†](#å“ˆå¸Œå†²çªå¤„ç†)
- [ç»å…¸é¢˜ç›®](#ç»å…¸é¢˜ç›®)

---

## ğŸ¯ å“ˆå¸Œè¡¨åŸºç¡€

### å“ˆå¸Œè¡¨ç‰¹æ€§
- **é”®å€¼æ˜ å°„**: é€šè¿‡å“ˆå¸Œå‡½æ•°å°†é”®æ˜ å°„åˆ°å­˜å‚¨ä½ç½®
- **å¿«é€Ÿè®¿é—®**: O(1) å¹³å‡æ—¶é—´å¤æ‚åº¦çš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤
- **æ— åºå­˜å‚¨**: å…ƒç´ å­˜å‚¨é¡ºåºä¸æ’å…¥é¡ºåºæ— å…³
- **å”¯ä¸€é”®å€¼**: æ¯ä¸ªé”®åªèƒ½å¯¹åº”ä¸€ä¸ªå€¼

### åŸºæœ¬æ“ä½œå¤æ‚åº¦
| æ“ä½œ | å¹³å‡æ—¶é—´å¤æ‚åº¦ | æœ€åæ—¶é—´å¤æ‚åº¦ | è¯´æ˜ |
|------|----------------|----------------|------|
| æŸ¥æ‰¾å…ƒç´  | O(1) | O(n) | å“ˆå¸Œå†²çªä¸¥é‡æ—¶é€€åŒ– |
| æ’å…¥å…ƒç´  | O(1) | O(n) | éœ€è¦å¤„ç†å†²çªå’Œæ‰©å®¹ |
| åˆ é™¤å…ƒç´  | O(1) | O(n) | åˆ é™¤åå¯èƒ½éœ€è¦é‡æ–°å“ˆå¸Œ |
| éå†æ‰€æœ‰å…ƒç´  | O(n) | O(n) | éœ€è¦è®¿é—®æ‰€æœ‰é”®å€¼å¯¹ |

### å“ˆå¸Œè¡¨å®ç°æ–¹å¼
```cpp
// C++ ä¸­çš„å“ˆå¸Œè¡¨å®ç°
#include <unordered_map>
#include <unordered_set>

unordered_map<int, string> hashMap;  // é”®å€¼å¯¹æ˜ å°„
unordered_set<int> hashSet;          // å»é‡é›†åˆ
```

```python
# Python ä¸­çš„å“ˆå¸Œè¡¨å®ç°
hash_map = {}                        # å­—å…¸ï¼ˆé”®å€¼å¯¹ï¼‰
hash_set = set()                     # é›†åˆï¼ˆå»é‡ï¼‰
from collections import defaultdict, Counter
```

```go
// Go ä¸­çš„å“ˆå¸Œè¡¨å®ç°
hashMap := make(map[int]string)      // é”®å€¼å¯¹æ˜ å°„
hashSet := make(map[int]bool)        // æ¨¡æ‹Ÿé›†åˆ
```

---

## ğŸ”¢ æ•°ç»„ä½œä¸ºå“ˆå¸Œè¡¨

### é€‚ç”¨åœºæ™¯
- é”®çš„èŒƒå›´æœ‰é™ä¸”å·²çŸ¥ï¼ˆå¦‚å°å†™å­—æ¯ã€æ•°å­—èŒƒå›´ï¼‰
- éœ€è¦O(1)ç©ºé—´å¤æ‚åº¦
- é¿å…å“ˆå¸Œå†²çªçš„å¼€é”€

### ç»å…¸åº”ç”¨ï¼šå­—æ¯ç»Ÿè®¡
```cpp
// ç»Ÿè®¡å°å†™å­—æ¯å‡ºç°æ¬¡æ•°
int count[26] = {0};
for (char c : str) {
    count[c - 'a']++;  // å­—ç¬¦æ˜ å°„åˆ°æ•°ç»„ç´¢å¼•
}
```

### æ•°ç»„å“ˆå¸Œè¡¨çš„ä¼˜åŠ¿
- **ç©ºé—´æ•ˆç‡é«˜**: å›ºå®šå¤§å°ï¼Œæ— é¢å¤–å¼€é”€
- **è®¿é—®é€Ÿåº¦å¿«**: ç›´æ¥æ•°ç»„è®¿é—®ï¼Œæ— å“ˆå¸Œè®¡ç®—
- **æ— å†²çª**: å®Œç¾å“ˆå¸Œå‡½æ•°ï¼Œæ— å†²çªå¤„ç†

---

## ğŸ“– å­—å…¸æ˜ å°„æŠ€å·§

### 1. é”®å€¼å¯¹å­˜å‚¨
```python
# å­˜å‚¨ç´¢å¼•æ˜ å°„
index_map = {}
for i, val in enumerate(nums):
    index_map[val] = i  # å€¼ -> ç´¢å¼•

# å­˜å‚¨é¢‘æ¬¡æ˜ å°„  
freq_map = {}
for item in items:
    freq_map[item] = freq_map.get(item, 0) + 1
```

### 2. å¤šå€¼æ˜ å°„
```python
from collections import defaultdict

# åˆ†ç»„æ˜ å°„
groups = defaultdict(list)
for item in items:
    key = get_key(item)
    groups[key].append(item)
```

### 3. åå‘æ˜ å°„
```python
# åŸæ˜ å°„: name -> id
name_to_id = {"Alice": 1, "Bob": 2}

# åå‘æ˜ å°„: id -> name
id_to_name = {v: k for k, v in name_to_id.items()}
```

---

## ğŸ“Š è®¡æ•°ç»Ÿè®¡

### Counter çš„å¦™ç”¨
```python
from collections import Counter

# å­—ç¬¦è®¡æ•°
char_count = Counter("hello world")
# Counter({'l': 3, 'o': 2, 'h': 1, 'e': 1, ' ': 1, 'w': 1, 'r': 1, 'd': 1})

# æœ€å¸¸è§å…ƒç´ 
most_common = char_count.most_common(3)  # å‰3ä¸ªæœ€å¸¸è§

# è®¡æ•°è¿ç®—
count1 = Counter(['a', 'b', 'c', 'a'])
count2 = Counter(['a', 'b', 'b'])
count1 + count2  # è®¡æ•°ç›¸åŠ 
count1 - count2  # è®¡æ•°ç›¸å‡
count1 & count2  # äº¤é›†
count1 | count2  # å¹¶é›†
```

### æ‰‹åŠ¨è®¡æ•°æ¨¡æ¿
```cpp
// C++ è®¡æ•°æ¨¡æ¿
unordered_map<int, int> count;
for (int num : nums) {
    count[num]++;
}

// æ£€æŸ¥è®¡æ•°
if (count[target] > 0) {
    // ç›®æ ‡å­˜åœ¨
}
```

---

## ğŸ” å¿«é€ŸæŸ¥æ‰¾

### 1. ä¸¤æ•°ä¹‹å’Œæ¨¡å¼
```python
def two_sum(nums, target):
    seen = {}
    for i, num in enumerate(nums):
        complement = target - num
        if complement in seen:
            return [seen[complement], i]
        seen[num] = i
    return []
```

### 2. å­˜åœ¨æ€§åˆ¤æ–­
```python
# å¿«é€Ÿåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨
def contains_duplicate(nums):
    seen = set()
    for num in nums:
        if num in seen:
            return True
        seen.add(num)
    return False
```

### 3. æœ€è¿‘è®¿é—®è®°å½•
```python
# LRU Cache çš„æ ¸å¿ƒæ€æƒ³
class LRUCache:
    def __init__(self, capacity):
        self.capacity = capacity
        self.cache = {}  # key -> value
        self.order = []  # è®¿é—®é¡ºåº
```

---

## ğŸ¨ å»é‡ä¸é›†åˆ

### é›†åˆè¿ç®—
```python
set1 = {1, 2, 3, 4}
set2 = {3, 4, 5, 6}

intersection = set1 & set2    # äº¤é›† {3, 4}
union = set1 | set2           # å¹¶é›† {1, 2, 3, 4, 5, 6}
difference = set1 - set2      # å·®é›† {1, 2}
symmetric_diff = set1 ^ set2  # å¯¹ç§°å·®é›† {1, 2, 5, 6}
```

### å»é‡åº”ç”¨
```cpp
// æ•°ç»„å»é‡
vector<int> removeDuplicates(vector<int>& nums) {
    unordered_set<int> seen;
    vector<int> result;
    for (int num : nums) {
        if (seen.find(num) == seen.end()) {
            seen.insert(num);
            result.push_back(num);
        }
    }
    return result;
}
```

---

## âš”ï¸ å“ˆå¸Œå†²çªå¤„ç†

### 1. é“¾åœ°å€æ³•
```
ç´¢å¼• 0: [key1, val1] -> [key5, val5] -> NULL
ç´¢å¼• 1: [key2, val2] -> NULL  
ç´¢å¼• 2: [key3, val3] -> [key6, val6] -> [key9, val9] -> NULL
```

### 2. å¼€æ”¾åœ°å€æ³•
```
çº¿æ€§æ¢æµ‹: hash(key) + i (i = 0, 1, 2, ...)
äºŒæ¬¡æ¢æµ‹: hash(key) + iÂ² (i = 0, 1, 2, ...)
åŒé‡å“ˆå¸Œ: hash1(key) + i * hash2(key)
```

### 3. æ‰©å®¹ç­–ç•¥
- **è´Ÿè½½å› å­**: å½“ load_factor = size/capacity > 0.75 æ—¶æ‰©å®¹
- **æ‰©å®¹å€æ•°**: é€šå¸¸æ‰©å®¹ä¸ºåŸæ¥çš„2å€
- **é‡æ–°å“ˆå¸Œ**: æ‰€æœ‰å…ƒç´ éœ€è¦é‡æ–°è®¡ç®—ä½ç½®

---

## ğŸ† ç»å…¸é¢˜ç›®

### åˆçº§é¢˜ç›®
| é¢˜å· | é¢˜ç›® | éš¾åº¦ | æ ¸å¿ƒæŠ€å·§ |
|------|------|------|----------|
| 1 | ä¸¤æ•°ä¹‹å’Œ | Easy | å“ˆå¸Œè¡¨æŸ¥æ‰¾äº’è¡¥æ•° |
| 242 | æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯ | Easy | å­—ç¬¦è®¡æ•° |
| 383 | èµé‡‘ä¿¡ | Easy | å­—ç¬¦é¢‘æ¬¡åŒ¹é… |
| 349 | ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† | Easy | é›†åˆè¿ç®— |
| 350 | ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†II | Easy | è®¡æ•°åŒ¹é… |

### ä¸­çº§é¢˜ç›®  
| é¢˜å· | é¢˜ç›® | éš¾åº¦ | æ ¸å¿ƒæŠ€å·§ |
|------|------|------|----------|
| 15 | ä¸‰æ•°ä¹‹å’Œ | Medium | å“ˆå¸Œè¡¨+åŒæŒ‡é’ˆ |
| 18 | å››æ•°ä¹‹å’Œ | Medium | å¤šå±‚å“ˆå¸ŒæŸ¥æ‰¾ |
| 454 | å››æ•°ç›¸åŠ II | Medium | åˆ†ç»„å“ˆå¸Œ |
| 49 | å­—æ¯å¼‚ä½è¯åˆ†ç»„ | Medium | åˆ†ç»„æ˜ å°„ |
| 128 | æœ€é•¿è¿ç»­åºåˆ— | Medium | å“ˆå¸Œè¡¨+è´ªå¿ƒ |

### é«˜çº§é¢˜ç›®
| é¢˜å· | é¢˜ç›® | éš¾åº¦ | æ ¸å¿ƒæŠ€å·§ |
|------|------|------|----------|
| 146 | LRUç¼“å­˜ | Medium | å“ˆå¸Œè¡¨+åŒå‘é“¾è¡¨ |
| 460 | LFUç¼“å­˜ | Hard | å¤šå±‚å“ˆå¸Œæ˜ å°„ |
| 295 | æ•°æ®æµçš„ä¸­ä½æ•° | Hard | å“ˆå¸Œè¡¨+å † |

---

## ğŸ’¡ è§£é¢˜æŠ€å·§æ€»ç»“

### 1. é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„
- **è®¡æ•°é—®é¢˜**: ä½¿ç”¨ `Counter` æˆ– `unordered_map<T, int>`
- **å­˜åœ¨æ€§åˆ¤æ–­**: ä½¿ç”¨ `set` æˆ– `unordered_set`  
- **é”®å€¼æ˜ å°„**: ä½¿ç”¨ `dict` æˆ– `unordered_map`
- **æœ‰é™èŒƒå›´**: ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿå“ˆå¸Œè¡¨

### 2. å¸¸è§æ¨¡å¼è¯†åˆ«
- **ä¸¤æ•°ä¹‹å’Œ**: éå†æ—¶æŸ¥æ‰¾äº’è¡¥æ•°
- **å­—æ¯å¼‚ä½è¯**: å­—ç¬¦è®¡æ•°æˆ–æ’åºæ¯”è¾ƒ
- **åˆ†ç»„é—®é¢˜**: æŒ‰ç‰¹å¾å€¼åˆ†ç»„æ˜ å°„
- **å»é‡é—®é¢˜**: ä½¿ç”¨é›†åˆæ•°æ®ç»“æ„

### 3. ä¼˜åŒ–ç­–ç•¥
- **ç©ºé—´æ¢æ—¶é—´**: ç”¨å“ˆå¸Œè¡¨ç¼“å­˜è®¡ç®—ç»“æœ
- **é¢„å¤„ç†**: å°†æ•°æ®é¢„å…ˆå­˜å…¥å“ˆå¸Œè¡¨
- **è¾¹ç•Œä¼˜åŒ–**: æå‰æ£€æŸ¥é•¿åº¦ã€ç©ºå€¼ç­‰è¾¹ç•Œæ¡ä»¶
- **å†…å­˜ä¼˜åŒ–**: åˆç†é€‰æ‹©å“ˆå¸Œè¡¨å¤§å°ï¼Œé¿å…è¿‡åº¦æ‰©å®¹

### 4. æ³¨æ„äº‹é¡¹
- **å“ˆå¸Œå†²çª**: äº†è§£åº•å±‚å®ç°ï¼Œé¢„ä¼°æ€§èƒ½å½±å“
- **å†…å­˜å¼€é”€**: å“ˆå¸Œè¡¨æœ‰é¢å¤–çš„å†…å­˜å¼€é”€
- **é¡ºåºé—®é¢˜**: å“ˆå¸Œè¡¨ä¸ä¿è¯å…ƒç´ é¡ºåº
- **é”®çš„ç±»å‹**: ç¡®ä¿é”®ç±»å‹æ˜¯å¯å“ˆå¸Œçš„

---

## ğŸ”§ å®ç”¨ä»£ç æ¨¡æ¿

### Python æ¨¡æ¿
```python
# è®¡æ•°æ¨¡æ¿
from collections import Counter, defaultdict

def count_elements(arr):
    counter = Counter(arr)
    return counter

# åˆ†ç»„æ¨¡æ¿
def group_by_key(items):
    groups = defaultdict(list)
    for item in items:
        key = get_key(item)  # è‡ªå®šä¹‰é”®å‡½æ•°
        groups[key].append(item)
    return dict(groups)

# æŸ¥æ‰¾æ¨¡æ¿
def find_pair(nums, target):
    seen = {}
    for i, num in enumerate(nums):
        if target - num in seen:
            return [seen[target - num], i]
        seen[num] = i
    return []
```

### C++ æ¨¡æ¿
```cpp
#include <unordered_map>
#include <unordered_set>

// è®¡æ•°æ¨¡æ¿
unordered_map<int, int> countElements(vector<int>& nums) {
    unordered_map<int, int> count;
    for (int num : nums) {
        count[num]++;
    }
    return count;
}

// å»é‡æ¨¡æ¿
vector<int> removeDuplicates(vector<int>& nums) {
    unordered_set<int> seen;
    vector<int> result;
    for (int num : nums) {
        if (seen.insert(num).second) {  // æ’å…¥æˆåŠŸè¯´æ˜æ˜¯æ–°å…ƒç´ 
            result.push_back(num);
        }
    }
    return result;
}
```

å“ˆå¸Œè¡¨æ˜¯ç®—æ³•é¢è¯•ä¸­çš„é«˜é¢‘è€ƒç‚¹ï¼ŒæŒæ¡å…¶æ ¸å¿ƒæ€æƒ³å’Œå¸¸è§æ¨¡å¼å¯¹æå‡è§£é¢˜æ•ˆç‡éå¸¸é‡è¦ï¼
